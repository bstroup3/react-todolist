{"ast":null,"code":"import _toConsumableArray from\"/Users/benjaminstroup/react-todolist/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"/Users/benjaminstroup/react-todolist/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useRef,useEffect}from\"react\";import TodoList from\"./TodoList\";import{v4 as uuidv4}from'uuid';import style from\"./mystyle.module.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var LOCAL_STORAGE_KEY='todoApp.todos';function App(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),todos=_useState2[0],setTodos=_useState2[1];var todoNameRef=useRef();useEffect(function(){document.title='Todo List App';},[]);useEffect(function(){var storedTodos=JSON.parse(localStorage.getItem(LOCAL_STORAGE_KEY));if(storedTodos)setTodos(storedTodos);},[]);useEffect(function(){localStorage.setItem(LOCAL_STORAGE_KEY,JSON.stringify(todos));},[todos]);function toggleTodo(id){var newTodos=_toConsumableArray(todos);var todo=newTodos.find(function(todo){return todo.id===id;});todo.complete=!todo.complete;setTodos(newTodos);}function handleAddTodo(e){var name=todoNameRef.current.value;if(name==='')return;setTodos(function(prevTodos){return[].concat(_toConsumableArray(prevTodos),[{id:uuidv4(),name:name,complete:false}]);});todoNameRef.current.value=null;}function handleClearTodo(){var newTodos=todos.filter(function(todo){return!todo.complete;});setTodos(newTodos);}return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"title\",{children:\"Todo App\"}),/*#__PURE__*/_jsx(\"h1\",{className:style.header,children:\"Todo List App\"}),/*#__PURE__*/_jsx(TodoList,{todos:todos,toggleTodo:toggleTodo}),/*#__PURE__*/_jsx(\"input\",{className:style.textbox,ref:todoNameRef,type:\"text\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{onClick:handleAddTodo,children:\"Add Todo\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleClearTodo,children:\"Clear Completed\"}),/*#__PURE__*/_jsxs(\"div\",{children:[todos.filter(function(todo){return!todo.complete;}).length,\" left to do\"]})]});}export default App;","map":{"version":3,"names":["React","useState","useRef","useEffect","TodoList","v4","uuidv4","style","LOCAL_STORAGE_KEY","App","todos","setTodos","todoNameRef","document","title","storedTodos","JSON","parse","localStorage","getItem","setItem","stringify","toggleTodo","id","newTodos","todo","find","complete","handleAddTodo","e","name","current","value","prevTodos","handleClearTodo","filter","header","textbox","length"],"sources":["/Users/benjaminstroup/react-todolist/src/App.js"],"sourcesContent":["import React, { useState, useRef, useEffect } from \"react\";\nimport TodoList from \"./TodoList\";\nimport {v4 as uuidv4} from 'uuid';\nimport style from \"./mystyle.module.css\"\n\nconst LOCAL_STORAGE_KEY = 'todoApp.todos'\n\nfunction App() {\n  const [todos, setTodos] = useState([])\n  const todoNameRef = useRef()\n  \n  useEffect(() => {\n    document.title = 'Todo List App';\n  }, []);\n\n  useEffect(() => {\n    const storedTodos = JSON.parse(localStorage.getItem(LOCAL_STORAGE_KEY))\n    if (storedTodos) setTodos(storedTodos);\n  }, [])\n\n  useEffect(() => {\n    localStorage.setItem(LOCAL_STORAGE_KEY, JSON.stringify(todos))\n  },[todos])\n\n  function toggleTodo(id) {\n    const newTodos = [...todos]\n    const todo = newTodos.find(todo => todo.id === id)\n    todo.complete = !todo.complete\n    setTodos(newTodos)\n  }\n\n  function handleAddTodo(e) {\n    const name = todoNameRef.current.value\n    if (name === '') return\n    setTodos(prevTodos => {\n      return [...prevTodos, {id: uuidv4(), name:name, complete:false}]\n    })\n    todoNameRef.current.value = null\n  }\n\n  function handleClearTodo() {\n    const newTodos = todos.filter(todo => !todo.complete)\n    setTodos(newTodos)\n  }\n\n  return (\n    <>\n      <title>Todo App</title>\n      <h1 className={style.header}>Todo List App</h1>\n      <TodoList todos = {todos} toggleTodo = {toggleTodo} />\n      <input className={style.textbox} ref={todoNameRef} type=\"text\" />\n      <br></br>\n      <button onClick={handleAddTodo} >Add Todo</button>\n      <button onClick={handleClearTodo}>Clear Completed</button>\n      <div>{todos.filter(todo => !todo.complete).length} left to do</div>\n    </>\n  );\n}\nexport default App;"],"mappings":"4PAAA,MAAOA,MAAK,EAAIC,QAAQ,CAAEC,MAAM,CAAEC,SAAS,KAAQ,OAAO,CAC1D,MAAOC,SAAQ,KAAM,YAAY,CACjC,OAAQC,EAAE,GAAIC,OAAM,KAAO,MAAM,CACjC,MAAOC,MAAK,KAAM,sBAAsB,8IAExC,GAAMC,kBAAiB,CAAG,eAAe,CAEzC,QAASC,IAAG,EAAG,CACb,cAA0BR,QAAQ,CAAC,EAAE,CAAC,wCAA/BS,KAAK,eAAEC,QAAQ,eACtB,GAAMC,YAAW,CAAGV,MAAM,EAAE,CAE5BC,SAAS,CAAC,UAAM,CACdU,QAAQ,CAACC,KAAK,CAAG,eAAe,CAClC,CAAC,CAAE,EAAE,CAAC,CAENX,SAAS,CAAC,UAAM,CACd,GAAMY,YAAW,CAAGC,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAACX,iBAAiB,CAAC,CAAC,CACvE,GAAIO,WAAW,CAAEJ,QAAQ,CAACI,WAAW,CAAC,CACxC,CAAC,CAAE,EAAE,CAAC,CAENZ,SAAS,CAAC,UAAM,CACde,YAAY,CAACE,OAAO,CAACZ,iBAAiB,CAAEQ,IAAI,CAACK,SAAS,CAACX,KAAK,CAAC,CAAC,CAChE,CAAC,CAAC,CAACA,KAAK,CAAC,CAAC,CAEV,QAASY,WAAU,CAACC,EAAE,CAAE,CACtB,GAAMC,SAAQ,oBAAOd,KAAK,CAAC,CAC3B,GAAMe,KAAI,CAAGD,QAAQ,CAACE,IAAI,CAAC,SAAAD,IAAI,QAAIA,KAAI,CAACF,EAAE,GAAKA,EAAE,GAAC,CAClDE,IAAI,CAACE,QAAQ,CAAG,CAACF,IAAI,CAACE,QAAQ,CAC9BhB,QAAQ,CAACa,QAAQ,CAAC,CACpB,CAEA,QAASI,cAAa,CAACC,CAAC,CAAE,CACxB,GAAMC,KAAI,CAAGlB,WAAW,CAACmB,OAAO,CAACC,KAAK,CACtC,GAAIF,IAAI,GAAK,EAAE,CAAE,OACjBnB,QAAQ,CAAC,SAAAsB,SAAS,CAAI,CACpB,mCAAWA,SAAS,GAAE,CAACV,EAAE,CAAEjB,MAAM,EAAE,CAAEwB,IAAI,CAACA,IAAI,CAAEH,QAAQ,CAAC,KAAK,CAAC,GACjE,CAAC,CAAC,CACFf,WAAW,CAACmB,OAAO,CAACC,KAAK,CAAG,IAAI,CAClC,CAEA,QAASE,gBAAe,EAAG,CACzB,GAAMV,SAAQ,CAAGd,KAAK,CAACyB,MAAM,CAAC,SAAAV,IAAI,QAAI,CAACA,IAAI,CAACE,QAAQ,GAAC,CACrDhB,QAAQ,CAACa,QAAQ,CAAC,CACpB,CAEA,mBACE,wCACE,mCAAuB,cACvB,WAAI,SAAS,CAAEjB,KAAK,CAAC6B,MAAO,2BAAmB,cAC/C,KAAC,QAAQ,EAAC,KAAK,CAAI1B,KAAM,CAAC,UAAU,CAAIY,UAAW,EAAG,cACtD,cAAO,SAAS,CAAEf,KAAK,CAAC8B,OAAQ,CAAC,GAAG,CAAEzB,WAAY,CAAC,IAAI,CAAC,MAAM,EAAG,cACjE,aAAS,cACT,eAAQ,OAAO,CAAEgB,aAAc,sBAAmB,cAClD,eAAQ,OAAO,CAAEM,eAAgB,6BAAyB,cAC1D,uBAAMxB,KAAK,CAACyB,MAAM,CAAC,SAAAV,IAAI,QAAI,CAACA,IAAI,CAACE,QAAQ,GAAC,CAACW,MAAM,iBAAkB,GAClE,CAEP,CACA,cAAe7B,IAAG"},"metadata":{},"sourceType":"module","externalDependencies":[]}